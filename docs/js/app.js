var bundle_app=(window.webpackJsonpbundle_name_=window.webpackJsonpbundle_name_||[]).push([[2],[function(e,o){e.exports=class{constructor(e,o,n,t,s){const r=this.getJson(o);return this.map=e,this.drawLayer(r,n,t,s)}getJson(e){const o=new XMLHttpRequest;if(o.open("GET",e,!1),o.send(),200===o.status)return JSON.parse(o.responseText);debug.log("error","GeoJSON request failed.\n",`${o.status}: ${o.statusText}`)}drawLayer(e,o,n,t){const s=bundle_vendor.L.geoJSON(e,{style:void 0!==t?e=>t(e.properties.color):{},onEachFeature:void 0!==n?(e,o)=>n(e,o):void 0});return o&&s.addTo(this.map),s}}},,,,,,,,function(e,o){},function(e,o){e.exports={maps:{SASat:bundle_vendor.L.tileLayer("maps/SASat/{z}/{x}/{y}.png",{attribution:"San Andreas Satellite Map",minZoom:1,maxZoom:5,continuousWorld:!1,noWrap:!0}),SARoad:bundle_vendor.L.tileLayer("maps/SARoad/{z}/{x}/{y}.png",{attribution:"San Andreas Atlus Map",minZoom:1,maxZoom:5,continuousWorld:!1,noWrap:!0})},crs:bundle_vendor.L.extend({},bundle_vendor.L.CRS.Simple,{transformation:new bundle_vendor.L.Transformation(.04266666666,127.99999998,-.04266666666,127.99999998)}),coordsTranslator:(e,o)=>o instanceof Object&&!(o instanceof Array)?(debug.log("log","Coords converter got:","Object"),[o.lng.toFixed(4),o.lat.toFixed(4)]):o instanceof Array?(debug.log("log","Coords converter got:","Array"),[o[1].toFixed(4),o[0].toFixed(4)]):void debug.log("error","Coordinates are not correct","")}},function(e,o,n){let t=n(0);e.exports=class{constructor(e,o,n){this.map=e,this.layer=new t(this.map,"json/SA_Police_Jursidictions.json",n,this.tooltipHandler,this.styleHandler)}styleHandler(e){switch(e){case"blue":return{color:"#00a8ff"};case"green":return{color:"#4cd137"};case"red":return{color:"#e84118"}}}tooltipHandler(e,o){o.bindTooltip(e.properties.name)}}},function(e,o){e.exports=class{constructor(e){this.editPanelShown=!1,this.control(e)}editMap(e){this.editPanelShown||(this.editPanelShown=!0,this.drawnItems=new bundle_vendor.L.FeatureGroup,e.addLayer(this.drawnItems),e.addControl(new bundle_vendor.L.Control.Draw({draw:{polygon:{allowIntersection:!1,showArea:!0}}})),e.on(bundle_vendor.L.Draw.Event.CREATED,o=>{const n=o.layer.addTo(e).toGeoJSON();n.properties=this.getProps("Нет описания"),bundle_vendor.buffer(JSON.stringify(n)),alert("Данные GeoJSON объекта скопированы")}))}getProps(e){let o=prompt("Введите название точки"),n=prompt('Введите описание точки.\nЕсли нет описание/желания писать его - нажмите "отмена"');return null!==n&&""!==n&&void 0!==n&&!1!==n||(n=e),{name:o,description:n}}control(e){bundle_vendor.L.easyButton('<i class="fas fa-edit"></i>',()=>{this.editMap(e)}).addTo(e)}}},function(e,o,n){let t=n(0);e.exports=class{constructor(e,o,n){this.map=e,this.layer=new t(this.map,"json/SA_Places.json",n,this.popupHandler),console.log(this.layer)}popupHandler(e,o){o.bindPopup(e.properties.name),o.bindPopup(`\n        <b>${e.properties.name}</b><br>\n        <p>${e.properties.description}</p>\n      `).setIcon(bundle_vendor.L.icon({iconUrl:`img/icons/${e.properties.icon}.png`,iconSize:[16,16]}))}}},function(e,o){e.exports=class{constructor(e,o){this.isDebug=Boolean(e),this.settings=o||{}}get status(){return this.isDebug}set status(e){this.isDebug=Boolean(e)}get options(){return this.settings}set options(e){void 0!==e.logging&&(this.settings.logging=Boolean(e.logging))}log(e,o,n){if(!1===this.status||!1===this.settings.logging)return!1;switch(e){case"error":console.error(o,n);break;case"warn":console.warn(o,n);break;case"info":case"log":console.info(o,n);break;default:console.log(o,n)}}}},function(e,o,n){let t=n(13),s=n(12),r=n(11),a=n(10),i=n(9),l=bundle_vendor.L.map("mapid",{crs:i.crs,maxBounds:[[3500,3500],[-3500,-3500]],layers:[i.maps.SASat]});l.setView([0,0],2);let d=new t(!0,{showCoordinates:!0,logging:!1});const c=new r(l),p=new a(l,"json/SA_Police_Jursidictions.json",!0),u=new s(l,"json/SA_Places.json",!0),g={Satellite:i.maps.SASat,Road:i.maps.SARoad},b={"Police Jurisdictions":p.layer,Locations:u.layer};bundle_vendor.L.control.layers(g,b).addTo(l);let h={SanAndreas:i,mymap:l,debug:d,draw:c,areas:p,places:u,layers:g,overlays:b};e.exports=h},function(e,o,n){n(14),e.exports=n(8)}],[[15,0]]]);